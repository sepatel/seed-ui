!function(a){a.module("ngFixedHeaders",[]).directive("fixedHeaders",["$timeout","$window",function(b,c){return{restrict:"EA",replace:!1,scope:{rows:"=watch"},transclude:!0,template:'<div style="width: 100%;"><div class="fixedHeader" style="white-space: nowrap; z-index: 1; overflow: hidden; position: relative;"></div><div ng-transclude></div></div>',link:function(d,e,f){function g(){b(function(){i.height(i.outerHeight()),k.empty(),k.height(i.innerHeight()),k.css("background-color",j.css("background-color")),k.css("top",h.offsetParent().position().top),h.css("margin-top",-1*k.height()+"px"),j.find("th").filter(":not(span.fixedHeaderWrapping)").each(function(b,c){c=a.element(c),0==c.find("span.fixedHeaderWrapping").length&&c.wrapInner('<span class="fixedHeaderWrapping">')}),j.find("th").each(function(b,c){c=a.element(c);var d=c.find("span.fixedHeaderWrapping").one(),e=d.clone(!0);e.width(c.outerWidth()).height(c.outerHeight()).css("display","inline-block").css("white-space",c.css("white-space")),a.forEach(["top","bottom","left","right"],function(a){e.css("padding-"+a,c.css("padding-"+a)),e.css("margin-"+a,c.css("margin-"+a)),e.css("border-"+a,c.css("border-"+a))}),k.append(e)})})}var h=e.find("table").one(),i=h.find("thead").one(),j=i.find("tr").one(),k=e.find("div.fixedHeader").one();e.parent().on("scroll",function(a){console.info("Did I scroll?",k.scrollLeft(),$(this).scrollLeft(),a),k.scrollLeft($(this).scrollLeft()),h.css("margin-top",-1*$(this).scrollTop+"px")}),a.element(c).bind("resize",g),f.watch&&d.$watch("rows",g,!0)}}}])}(angular);